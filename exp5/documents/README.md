# 实验5 Leetcode-1

### 实验背景
在助教被哥布林掳走并被轰成渣之后，助教见到了掌管平行世界间穿越的神。

神：看在你兢兢业业尽职尽责大公无私舍己为人的份上，我给你一次选择机会吧。说，这次你想穿越到哪个世界？

助教：我想回到原来的世界。我的学生们很怀念我。（其实是因为每周都用传送阵把作业发过来再批改实在是太麻烦了

神：行吧，不过听说你班上的学生对oj怨声载道，我想看看你对oj又有多少了解。

助教：请问吧。

神：Leetcode的第一道题用什么方法做能让运行时间最短？

助教：哈希表。时间复杂度$O(n)$。

神：好，那你就写个哈希表吧。

### 说人话的部分
0. 感谢Cindy提供的题目。
1. 采用顺序表存储哈希表元素。元素类型为unsigned int。保证元素不是0或0xffffffff。
2. 哈希表的容量为$2^{12}$，表的初始状态为空。
   哈希函数采用平方取中法，无符号 int 为 32 位整型数，平方后为64位，取中间 12 位。
3. 处理冲突采用开放定址法。增量取二次散列函数$h(x)$。
4. $h(x)$定义如下：
$$h(x)=\begin{cases}
    x\ mod\ 2^{12}, & \text{if}\ x\text{ is odd}\\
    (x+1)\ mod\ 2^{12} & \text{if }x\text{ is even}
\end{cases}$$
5. 输入： 
    a. 共$10^4$行。每行有两个整数$a$和$b$。$a$与$b$以空格隔开。每行以回车隔开。每行的$a$都不相同。
    b. $a$是一个无符号int型数。$b$是$0$或$1$。
    c. 当$b$为$1$时，将$a$插入哈希表。
    d. 当$b$为$0$时，查询$a$是否在哈希表中。如果存在，则删除此元素。
6. 输出：
    a. 共$10^4+2$行。
    b. 如果是插入操作，输出尝试次数与插入位置。两个数字用空格隔开。
    c. 如果是查找操作且元素在表中，输出尝试次数与元素所在的槽。两个数字用空格隔开。
    d. 如果是查找操作且元素不在表中，输出尝试次数与-1。两个数字用空格隔开。
	e. 最后两行输出查找成功及失败时的平均尝试次数，用分数输出，注意不用约分。
不用约分的意思是，分子是所有成功/失败查找操作的总查找尝试次数，分母是总查找操作数。分子与分母间用'/'隔开。本行的任何位置没有空格。

### 输入输出样例
**为方便表述，我们假定输入很短，事实上输入会有10^4行。**

输入 | 输出 | 解释
- | - | -
1 0 | 1 -1 | 平方取中之后发现位置是0。向位置0查询。发现位置0是空的。输出-1。
1 1 | 1 0 | 平方取中之后发现位置是0。向位置0查询。发现位置0是空的。就插入。
2 1 | 2 3 | 平方取中之后发现位置是0。向位置0查询。发现位置0满了。计算出h(x)=3。于是插到位置3.
2 0 | 2 3 | 平方取中之后发现位置是0。向位置0查询。发现位置0有数据但不是2。计算出h(x)=3。向3查询。发现就在3。
<br> | 2/1 | 总共有1次成功查找（输入指令的第四行）。总查找尝试次数为2。
<br> | 1/1 |  总共有1次失败查找（输入指令的第一行）总查找尝试次数为1。

### 提交方式
在oj.ustc.edu.cn上提交。